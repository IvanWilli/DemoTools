<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Graduate grouped data — graduate • DemoTools</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Graduate grouped data — graduate" />
<meta property="og:description" content="A wrapper function for several graduation methods, primarily for count data (&quot;sprague&quot;, &quot;beers(ord)&quot;, &quot;beers(mod)&quot;, &quot;mono&quot; (Monotonic spline), &quot;uniform&quot;, &quot;pclm&quot;), but also with one (&quot;pclm&quot;) with an option for graduating rates if both event counts and population at risk are available." />
<meta property="og:image" content="/logo.png" />
<meta name="twitter:card" content="summary" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">DemoTools</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.2.5</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/Age-heaping_quality_with_Demotools.html">Age-heaping indices with DemoTools</a>
    </li>
    <li>
      <a href="../articles/case_study_1.html">DemoTools: A case study</a>
    </li>
    <li>
      <a href="../articles/graduation_with_demotools.html">Graduation with DemoTools</a>
    </li>
    <li>
      <a href="../articles/lifetable_with_demotools.html">The lifetable with DemoTools</a>
    </li>
    <li>
      <a href="../articles/smoothing_with_demotools.html">Smoothing with DemoTools</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Graduate grouped data</h1>
    
    <div class="hidden name"><code>graduate.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>A wrapper function for several graduation methods, primarily for count data (<code>"sprague"</code>, <code>"beers(ord)"</code>, <code>"beers(mod)"</code>, <code>"mono"</code> (Monotonic spline), <code>"uniform"</code>, <code>"pclm"</code>), but also with one (<code>"pclm"</code>) with an option for graduating rates if both event counts and population at risk are available.</p>
    </div>

    <pre class="usage"><span class='fu'>graduate</span>(<span class='no'>Value</span>, <span class='no'>Age</span>, <span class='kw'>AgeInt</span> <span class='kw'>=</span> <span class='fu'><a href='age2int.html'>age2int</a></span>(<span class='no'>Age</span>), <span class='kw'>OAG</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>OAnew</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/Extremes.html'>max</a></span>(<span class='no'>Age</span>), <span class='kw'>method</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"sprague"</span>, <span class='st'>"beers(ord)"</span>, <span class='st'>"beers(mod)"</span>,
  <span class='st'>"pclm"</span>, <span class='st'>"mono"</span>, <span class='st'>"uniform"</span>), <span class='kw'>keep0</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='no'>...</span>)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>Value</th>
      <td><p>numeric vector, presumably counts in grouped ages</p></td>
    </tr>
    <tr>
      <th>Age</th>
      <td><p>integer vector, lower bounds of age groups</p></td>
    </tr>
    <tr>
      <th>AgeInt</th>
      <td><p>integer vector, age interval widths</p></td>
    </tr>
    <tr>
      <th>OAG</th>
      <td><p>logical, default = <code>TRUE</code> is the final age group open?</p></td>
    </tr>
    <tr>
      <th>OAnew</th>
      <td><p>integer, optional new open age, higher than <code><a href='https://rdrr.io/r/base/Extremes.html'>max(Age)</a></code>. See details.</p></td>
    </tr>
    <tr>
      <th>method</th>
      <td><p>character, either <code>"sprague"</code>, <code>"beers(ord)")</code>, <code>"beers(mod)")</code>, <code>"mono")</code>, <code>"uniform")</code>, or <code>"pclm"</code></p></td>
    </tr>
    <tr>
      <th>keep0</th>
      <td><p>logical. Default <code>FALSE</code>. If available, should the value in the infant age group be maintained, and ages 1-4 constrained?</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>extra arguments passed to <code><a href='beers.html'>beers()</a></code> or <code><a href='graduate_pclm.html'>graduate_pclm()</a></code></p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p><code>"sprague"</code>, <code>"beers(ord)"</code>, <code>"beers(mod)"</code> methods require original data to be in uniform five-year age groups. If they are not (for example, the infant group is separate) then they are grouped to uniform width prior to splitting. If you want to keep the original infant count in output, then specify <code>keep0 = TRUE</code>. In this case, it is imputed, and ages 1-4 are rescaled, which may introduce a discontinuity in results from age 4 to 5. <code>keep0 = TRUE</code> may also be desired along with <code>method = "pclm"</code>.</p>
<p>Some methods are constrained, others not, and others are optionally constrained. If this is required, then this function can be followed up with <code><a href='rescaleAgeGroups.html'>rescaleAgeGroups()</a></code>, which may have the effect of breaking continuity in smooth results. This is inconsequential for downstream demography, but if this aesthetic side effect is undesired, then try one of the constrained methods: <code>"sprague"</code>, <code>"mono"</code>, <code>"pclm"</code> (with <code>control = list(lambda = 1/1e7) specified</code> or similar).</p>
<p>Beers may either be ordinary <code>"beers(ord)"</code> or modified <code>"beers(mod)"</code>, and either can pass on the optional argument <code>johnson = TRUE</code> if desired (this has a different distribution pattern for young ages, <code>FALSE</code> by default). If <code>method = "beers"</code> is given, then <code>"beers(ord)"</code> is used.</p>
<p>This wrapper standardizes some inconsistencies in how open ages are dealt with. For example, with the <code>"pclm"</code> method, the last age group can be redistributed over a specified interval implied by increase <code>OAnew</code> beyond the range of <code>Age</code>. To get this same behavior from <code>"mono"</code>, or <code>"uniform"</code> specify <code>OAG = FALSE</code> along with an appropriately high <code>OAnew</code> (or integer final value of <code>AgeInt</code>.</p>
<p><code>OAnew</code> cannot be higher than <code>max(Age)+4</code> for <code>"sprague"</code> or <code>"beers"</code> methods. For <code>"uniform","mono","pclm"</code> it can be higher than this, and in each case the open age group is completely redistributed within this range, meaning it's not really open anymore.</p>
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>Pascariu MD, Danko MJ, Sch昼㸶ley J, Rizzi S (2018).
&#8220;ungroup: An R package for efficient estimation of smooth distributions from coarsely binned data.&#8221;
<em>Age</em>, <b>10</b>, 0.

Rizzi S, Gampe J, Eilers PH (2015).
&#8220;Efficient estimation of smooth distributions from coarsely grouped data.&#8221;
<em>American journal of epidemiology</em>, <b>182</b>(2), 138--147.

Sprague TB (1880).
&#8220;Explanation of a new formula for interpolation.&#8221;
<em>Journal of the Institute of Actuaries</em>, <b>22</b>(4), 270--285.

Shryock HS, Siegel JS, Larmon EA (1973).
<em>The methods and materials of demography</em>.
US Bureau of the Census.

Siegel Jacob S, Swanson David A (eds.) (2004).
<em>The Methods and Materials of Demography</em>, 2 edition.
Elsevier Academic Press, California, USA, San Diego, USA.

Beers H (1945).
&#8220;Modified-interpolation formulas that minimize fourth differences.&#8221;
<em>Record of the American Institute of Actuaries</em>, <b>34</b>(69), 14--20.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='sprague.html'>sprague</a></code>, <code><a href='beers.html'>beers</a></code>, <code><a href='splitUniform.html'>splitUniform</a></code>, <code><a href='splitMono.html'>splitMono</a></code>, <code><a href='graduate_pclm.html'>graduate_pclm</a></code></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='no'>Value</span> <span class='kw'>&lt;-</span> <span class='no'>pop5_mat</span>[, <span class='fl'>1</span>]
<span class='no'>Value</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>10000</span>,<span class='fl'>44170</span>,<span class='no'>Value</span>[-<span class='fl'>1</span>])
<span class='no'>Age</span>   <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/sort.html'>sort</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>1</span>,<span class='fu'><a href='https://rdrr.io/r/base/seq.html'>seq</a></span>(<span class='fl'>0</span>,<span class='fl'>100</span>,<span class='kw'>by</span><span class='kw'>=</span><span class='fl'>5</span>)))

<span class='fu'>graduate</span>(<span class='no'>Value</span>, <span class='no'>Age</span>, <span class='kw'>method</span> <span class='kw'>=</span> <span class='st'>"sprague"</span>)</div><div class='output co'>#&gt;           [,1]
#&gt; 0   12172.4912
#&gt; 1   11380.4480
#&gt; 2   10717.4480
#&gt; 3   10171.0000
#&gt; 4    9728.6128
#&gt; 5    9377.7952
#&gt; 6    9106.0560
#&gt; 7    8900.9040
#&gt; 8    8749.8480
#&gt; 9    8640.3968
#&gt; 10   8573.6144
#&gt; 11   8550.5648
#&gt; 12   8490.9808
#&gt; 13   8355.2608
#&gt; 14   8171.5792
#&gt; 15   8008.3808
#&gt; 16   7852.7792
#&gt; 17   7694.2592
#&gt; 18   7534.6752
#&gt; 19   7373.9056
#&gt; 20   7210.8208
#&gt; 21   7046.6624
#&gt; 22   6881.6064
#&gt; 23   6715.9664
#&gt; 24   6550.9440
#&gt; 25   6386.5216
#&gt; 26   6221.6160
#&gt; 27   6065.6560
#&gt; 28   5922.9920
#&gt; 29   5789.2144
#&gt; 30   5656.4784
#&gt; 31   5527.4512
#&gt; 32   5393.8752
#&gt; 33   5251.2032
#&gt; 34   5103.9920
#&gt; 35   4958.4544
#&gt; 36   4809.8784
#&gt; 37   4676.3904
#&gt; 38   4566.5184
#&gt; 39   4469.7584
#&gt; 40   4372.0480
#&gt; 41   4282.1632
#&gt; 42   4161.7152
#&gt; 43   3992.0912
#&gt; 44   3793.9824
#&gt; 45   3600.3712
#&gt; 46   3397.0752
#&gt; 47   3237.6592
#&gt; 48   3149.6752
#&gt; 49   3104.2192
#&gt; 50   3052.7728
#&gt; 51   3014.5648
#&gt; 52   2923.2688
#&gt; 53   2744.0448
#&gt; 54   2513.3488
#&gt; 55   2294.2640
#&gt; 56   2064.3184
#&gt; 57   1897.9424
#&gt; 58   1835.3744
#&gt; 59   1836.1008
#&gt; 60   1826.9504
#&gt; 61   1831.6544
#&gt; 62   1779.1824
#&gt; 63   1629.7344
#&gt; 64   1422.4784
#&gt; 65   1231.8448
#&gt; 66   1037.5024
#&gt; 67    891.8304
#&gt; 68    826.6464
#&gt; 69    813.1760
#&gt; 70    792.0960
#&gt; 71    776.7936
#&gt; 72    745.8176
#&gt; 73    683.0176
#&gt; 74    601.2752
#&gt; 75    529.6992
#&gt; 76    462.5600
#&gt; 77    401.2800
#&gt; 78    349.5120
#&gt; 79    304.9488
#&gt; 80    261.4336
#&gt; 81    219.9616
#&gt; 82    183.1696
#&gt; 83    151.6816
#&gt; 84    124.7536
#&gt; 85    100.7200
#&gt; 86     79.5568
#&gt; 87     61.8448
#&gt; 88     47.5888
#&gt; 89     36.2896
#&gt; 90     27.1456
#&gt; 91     19.9600
#&gt; 92     14.5360
#&gt; 93     10.5760
#&gt; 94      7.7824
#&gt; 95      5.8576
#&gt; 96      4.5040
#&gt; 97      3.4240
#&gt; 98      2.3200
#&gt; 99      0.8944
#&gt; 100     0.0000</div><div class='input'><span class='fu'>graduate</span>(<span class='no'>Value</span>, <span class='no'>Age</span>, <span class='kw'>method</span> <span class='kw'>=</span> <span class='st'>"sprague"</span>, <span class='kw'>keep0</span><span class='kw'>=</span><span class='fl'>FALSE</span>)</div><div class='output co'>#&gt;           [,1]
#&gt; 0   12172.4912
#&gt; 1   11380.4480
#&gt; 2   10717.4480
#&gt; 3   10171.0000
#&gt; 4    9728.6128
#&gt; 5    9377.7952
#&gt; 6    9106.0560
#&gt; 7    8900.9040
#&gt; 8    8749.8480
#&gt; 9    8640.3968
#&gt; 10   8573.6144
#&gt; 11   8550.5648
#&gt; 12   8490.9808
#&gt; 13   8355.2608
#&gt; 14   8171.5792
#&gt; 15   8008.3808
#&gt; 16   7852.7792
#&gt; 17   7694.2592
#&gt; 18   7534.6752
#&gt; 19   7373.9056
#&gt; 20   7210.8208
#&gt; 21   7046.6624
#&gt; 22   6881.6064
#&gt; 23   6715.9664
#&gt; 24   6550.9440
#&gt; 25   6386.5216
#&gt; 26   6221.6160
#&gt; 27   6065.6560
#&gt; 28   5922.9920
#&gt; 29   5789.2144
#&gt; 30   5656.4784
#&gt; 31   5527.4512
#&gt; 32   5393.8752
#&gt; 33   5251.2032
#&gt; 34   5103.9920
#&gt; 35   4958.4544
#&gt; 36   4809.8784
#&gt; 37   4676.3904
#&gt; 38   4566.5184
#&gt; 39   4469.7584
#&gt; 40   4372.0480
#&gt; 41   4282.1632
#&gt; 42   4161.7152
#&gt; 43   3992.0912
#&gt; 44   3793.9824
#&gt; 45   3600.3712
#&gt; 46   3397.0752
#&gt; 47   3237.6592
#&gt; 48   3149.6752
#&gt; 49   3104.2192
#&gt; 50   3052.7728
#&gt; 51   3014.5648
#&gt; 52   2923.2688
#&gt; 53   2744.0448
#&gt; 54   2513.3488
#&gt; 55   2294.2640
#&gt; 56   2064.3184
#&gt; 57   1897.9424
#&gt; 58   1835.3744
#&gt; 59   1836.1008
#&gt; 60   1826.9504
#&gt; 61   1831.6544
#&gt; 62   1779.1824
#&gt; 63   1629.7344
#&gt; 64   1422.4784
#&gt; 65   1231.8448
#&gt; 66   1037.5024
#&gt; 67    891.8304
#&gt; 68    826.6464
#&gt; 69    813.1760
#&gt; 70    792.0960
#&gt; 71    776.7936
#&gt; 72    745.8176
#&gt; 73    683.0176
#&gt; 74    601.2752
#&gt; 75    529.6992
#&gt; 76    462.5600
#&gt; 77    401.2800
#&gt; 78    349.5120
#&gt; 79    304.9488
#&gt; 80    261.4336
#&gt; 81    219.9616
#&gt; 82    183.1696
#&gt; 83    151.6816
#&gt; 84    124.7536
#&gt; 85    100.7200
#&gt; 86     79.5568
#&gt; 87     61.8448
#&gt; 88     47.5888
#&gt; 89     36.2896
#&gt; 90     27.1456
#&gt; 91     19.9600
#&gt; 92     14.5360
#&gt; 93     10.5760
#&gt; 94      7.7824
#&gt; 95      5.8576
#&gt; 96      4.5040
#&gt; 97      3.4240
#&gt; 98      2.3200
#&gt; 99      0.8944
#&gt; 100     0.0000</div><div class='input'>
<span class='fu'>graduate</span>(<span class='no'>Value</span>, <span class='no'>Age</span>, <span class='kw'>method</span> <span class='kw'>=</span> <span class='st'>"beers(ord)"</span>)</div><div class='output co'>#&gt;           [,1]
#&gt; 0   11932.7336
#&gt; 1   11342.3240
#&gt; 2   10788.6128
#&gt; 3   10280.2888
#&gt; 4    9826.0408
#&gt; 5    9435.4048
#&gt; 6    9117.0696
#&gt; 7    8877.1824
#&gt; 8    8717.6544
#&gt; 9    8627.6888
#&gt; 10   8582.9336
#&gt; 11   8547.1760
#&gt; 12   8479.1200
#&gt; 13   8351.8720
#&gt; 14   8180.8984
#&gt; 15   8008.1091
#&gt; 16   7852.8780
#&gt; 17   7694.6050
#&gt; 18   7534.7740
#&gt; 19   7373.6339
#&gt; 20   7210.9429
#&gt; 21   7046.6180
#&gt; 22   6881.4510
#&gt; 23   6715.9220
#&gt; 24   6551.0661
#&gt; 25   6385.3171
#&gt; 26   6222.0540
#&gt; 27   6067.1890
#&gt; 28   5923.4300
#&gt; 29   5788.0099
#&gt; 30   5657.7302
#&gt; 31   5526.9960
#&gt; 32   5392.2820
#&gt; 33   5250.7480
#&gt; 34   5105.2438
#&gt; 35   4955.8375
#&gt; 36   4810.8300
#&gt; 37   4679.7210
#&gt; 38   4567.4700
#&gt; 39   4467.1415
#&gt; 40   4377.4523
#&gt; 41   4280.1980
#&gt; 42   4154.8370
#&gt; 43   3990.1260
#&gt; 44   3799.3867
#&gt; 45   3592.6085
#&gt; 46   3399.8980
#&gt; 47   3247.5390
#&gt; 48   3152.4980
#&gt; 49   3096.4565
#&gt; 50   3062.5760
#&gt; 51   3011.0000
#&gt; 52   2910.7920
#&gt; 53   2740.4800
#&gt; 54   2523.1520
#&gt; 55   2283.1606
#&gt; 56   2068.3560
#&gt; 57   1912.0740
#&gt; 58   1839.4120
#&gt; 59   1824.9974
#&gt; 60   1837.8085
#&gt; 61   1827.7060
#&gt; 62   1765.3630
#&gt; 63   1625.7860
#&gt; 64   1433.3365
#&gt; 65   1223.5134
#&gt; 66   1040.5320
#&gt; 67    902.4340
#&gt; 68    829.6760
#&gt; 69    804.8446
#&gt; 70    796.0879
#&gt; 71    775.3420
#&gt; 72    740.7370
#&gt; 73    681.5660
#&gt; 74    605.2671
#&gt; 75    528.8797
#&gt; 76    462.8580
#&gt; 77    402.3230
#&gt; 78    349.8100
#&gt; 79    304.1293
#&gt; 80    261.2455
#&gt; 81    220.0300
#&gt; 82    183.4090
#&gt; 83    151.7500
#&gt; 84    124.5655
#&gt; 85    100.6507
#&gt; 86     79.5820
#&gt; 87     61.9330
#&gt; 88     47.6140
#&gt; 89     36.2203
#&gt; 90     27.2401
#&gt; 91     20.1994
#&gt; 92     14.7124
#&gt; 93     10.4941
#&gt; 94      7.3540
#&gt; 95      5.1331
#&gt; 96      3.6913
#&gt; 97      2.8948
#&gt; 98      2.6035
#&gt; 99      2.6773
#&gt; 100     0.0000</div><div class='input'><span class='fu'>graduate</span>(<span class='no'>Value</span>, <span class='no'>Age</span>, <span class='kw'>method</span> <span class='kw'>=</span> <span class='st'>"beers(ord)"</span>, <span class='kw'>keep0</span><span class='kw'>=</span><span class='fl'>TRUE</span>)</div><div class='output co'>#&gt;           [,1]
#&gt; 0   10000.0000
#&gt; 1   11861.3370
#&gt; 2   11282.2886
#&gt; 3   10750.7042
#&gt; 4   10275.6703
#&gt; 5    9435.4048
#&gt; 6    9117.0696
#&gt; 7    8877.1824
#&gt; 8    8717.6544
#&gt; 9    8627.6888
#&gt; 10   8582.9336
#&gt; 11   8547.1760
#&gt; 12   8479.1200
#&gt; 13   8351.8720
#&gt; 14   8180.8984
#&gt; 15   8008.1091
#&gt; 16   7852.8780
#&gt; 17   7694.6050
#&gt; 18   7534.7740
#&gt; 19   7373.6339
#&gt; 20   7210.9429
#&gt; 21   7046.6180
#&gt; 22   6881.4510
#&gt; 23   6715.9220
#&gt; 24   6551.0661
#&gt; 25   6385.3171
#&gt; 26   6222.0540
#&gt; 27   6067.1890
#&gt; 28   5923.4300
#&gt; 29   5788.0099
#&gt; 30   5657.7302
#&gt; 31   5526.9960
#&gt; 32   5392.2820
#&gt; 33   5250.7480
#&gt; 34   5105.2438
#&gt; 35   4955.8375
#&gt; 36   4810.8300
#&gt; 37   4679.7210
#&gt; 38   4567.4700
#&gt; 39   4467.1415
#&gt; 40   4377.4523
#&gt; 41   4280.1980
#&gt; 42   4154.8370
#&gt; 43   3990.1260
#&gt; 44   3799.3867
#&gt; 45   3592.6085
#&gt; 46   3399.8980
#&gt; 47   3247.5390
#&gt; 48   3152.4980
#&gt; 49   3096.4565
#&gt; 50   3062.5760
#&gt; 51   3011.0000
#&gt; 52   2910.7920
#&gt; 53   2740.4800
#&gt; 54   2523.1520
#&gt; 55   2283.1606
#&gt; 56   2068.3560
#&gt; 57   1912.0740
#&gt; 58   1839.4120
#&gt; 59   1824.9974
#&gt; 60   1837.8085
#&gt; 61   1827.7060
#&gt; 62   1765.3630
#&gt; 63   1625.7860
#&gt; 64   1433.3365
#&gt; 65   1223.5134
#&gt; 66   1040.5320
#&gt; 67    902.4340
#&gt; 68    829.6760
#&gt; 69    804.8446
#&gt; 70    796.0879
#&gt; 71    775.3420
#&gt; 72    740.7370
#&gt; 73    681.5660
#&gt; 74    605.2671
#&gt; 75    528.8797
#&gt; 76    462.8580
#&gt; 77    402.3230
#&gt; 78    349.8100
#&gt; 79    304.1293
#&gt; 80    261.2455
#&gt; 81    220.0300
#&gt; 82    183.4090
#&gt; 83    151.7500
#&gt; 84    124.5655
#&gt; 85    100.6507
#&gt; 86     79.5820
#&gt; 87     61.9330
#&gt; 88     47.6140
#&gt; 89     36.2203
#&gt; 90     27.2401
#&gt; 91     20.1994
#&gt; 92     14.7124
#&gt; 93     10.4941
#&gt; 94      7.3540
#&gt; 95      5.1331
#&gt; 96      3.6913
#&gt; 97      2.8948
#&gt; 98      2.6035
#&gt; 99      2.6773
#&gt; 100     0.0000</div><div class='input'><span class='fu'>graduate</span>(<span class='no'>Value</span>, <span class='no'>Age</span>, <span class='kw'>method</span> <span class='kw'>=</span> <span class='st'>"beers(ord)"</span>, <span class='kw'>keep0</span><span class='kw'>=</span><span class='fl'>TRUE</span>, <span class='kw'>johnson</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)</div><div class='output co'>#&gt;           [,1]
#&gt; 0   10000.0000
#&gt; 1   11342.3240
#&gt; 2   11462.1335
#&gt; 3   11023.6236
#&gt; 4   10341.9189
#&gt; 5    9651.0947
#&gt; 6    9097.9694
#&gt; 7    8762.3499
#&gt; 8    8635.8972
#&gt; 9    8627.6888
#&gt; 10   8582.9336
#&gt; 11   8547.1760
#&gt; 12   8479.1200
#&gt; 13   8351.8720
#&gt; 14   8180.8984
#&gt; 15   8008.1091
#&gt; 16   7852.8780
#&gt; 17   7694.6050
#&gt; 18   7534.7740
#&gt; 19   7373.6339
#&gt; 20   7210.9429
#&gt; 21   7046.6180
#&gt; 22   6881.4510
#&gt; 23   6715.9220
#&gt; 24   6551.0661
#&gt; 25   6385.3171
#&gt; 26   6222.0540
#&gt; 27   6067.1890
#&gt; 28   5923.4300
#&gt; 29   5788.0099
#&gt; 30   5657.7302
#&gt; 31   5526.9960
#&gt; 32   5392.2820
#&gt; 33   5250.7480
#&gt; 34   5105.2438
#&gt; 35   4955.8375
#&gt; 36   4810.8300
#&gt; 37   4679.7210
#&gt; 38   4567.4700
#&gt; 39   4467.1415
#&gt; 40   4377.4523
#&gt; 41   4280.1980
#&gt; 42   4154.8370
#&gt; 43   3990.1260
#&gt; 44   3799.3867
#&gt; 45   3592.6085
#&gt; 46   3399.8980
#&gt; 47   3247.5390
#&gt; 48   3152.4980
#&gt; 49   3096.4565
#&gt; 50   3062.5760
#&gt; 51   3011.0000
#&gt; 52   2910.7920
#&gt; 53   2740.4800
#&gt; 54   2523.1520
#&gt; 55   2283.1606
#&gt; 56   2068.3560
#&gt; 57   1912.0740
#&gt; 58   1839.4120
#&gt; 59   1824.9974
#&gt; 60   1837.8085
#&gt; 61   1827.7060
#&gt; 62   1765.3630
#&gt; 63   1625.7860
#&gt; 64   1433.3365
#&gt; 65   1223.5134
#&gt; 66   1040.5320
#&gt; 67    902.4340
#&gt; 68    829.6760
#&gt; 69    804.8446
#&gt; 70    796.0879
#&gt; 71    775.3420
#&gt; 72    740.7370
#&gt; 73    681.5660
#&gt; 74    605.2671
#&gt; 75    528.8797
#&gt; 76    462.8580
#&gt; 77    402.3230
#&gt; 78    349.8100
#&gt; 79    304.1293
#&gt; 80    261.2455
#&gt; 81    220.0300
#&gt; 82    183.4090
#&gt; 83    151.7500
#&gt; 84    124.5655
#&gt; 85    100.6507
#&gt; 86     79.5820
#&gt; 87     61.9330
#&gt; 88     47.6140
#&gt; 89     36.2203
#&gt; 90     27.2401
#&gt; 91     20.1994
#&gt; 92     14.7124
#&gt; 93     10.4941
#&gt; 94      7.3540
#&gt; 95      5.1331
#&gt; 96      3.6913
#&gt; 97      2.8948
#&gt; 98      2.6035
#&gt; 99      2.6773
#&gt; 100     0.0000</div><div class='input'>
<span class='fu'>graduate</span>(<span class='no'>Value</span>, <span class='no'>Age</span>, <span class='kw'>method</span> <span class='kw'>=</span> <span class='st'>"beers(mod)"</span>)</div><div class='output co'>#&gt;           [,1]
#&gt; 0   11952.2354
#&gt; 1   11325.4173
#&gt; 2   10766.2996
#&gt; 3   10274.8823
#&gt; 4    9851.1654
#&gt; 5    9494.3017
#&gt; 6    9201.8161
#&gt; 7    8969.8051
#&gt; 8    8790.9099
#&gt; 9    8653.8682
#&gt; 10   8546.7035
#&gt; 11   8455.2302
#&gt; 12   8364.7480
#&gt; 13   8264.2114
#&gt; 14   8146.8109
#&gt; 15   8009.2966
#&gt; 16   7855.8211
#&gt; 17   7697.9395
#&gt; 18   7537.0673
#&gt; 19   7374.4965
#&gt; 20   7210.6243
#&gt; 21   7045.7255
#&gt; 22   6879.9525
#&gt; 23   6714.4613
#&gt; 24   6550.4634
#&gt; 25   6389.8558
#&gt; 26   6233.6499
#&gt; 27   6081.9715
#&gt; 28   5935.0481
#&gt; 29   5792.5597
#&gt; 30   5653.0084
#&gt; 31   5514.9350
#&gt; 32   5376.9190
#&gt; 33   5238.6834
#&gt; 34   5100.5202
#&gt; 35   4965.5251
#&gt; 36   4835.6769
#&gt; 37   4711.8375
#&gt; 38   4593.0579
#&gt; 39   4477.1996
#&gt; 40   4357.2582
#&gt; 41   4228.5099
#&gt; 42   4088.5115
#&gt; 43   3937.6585
#&gt; 44   3778.8029
#&gt; 45   3621.7683
#&gt; 46   3474.4487
#&gt; 47   3342.8085
#&gt; 48   3227.5557
#&gt; 49   3125.8698
#&gt; 50   3025.7427
#&gt; 51   2916.8358
#&gt; 52   2790.4800
#&gt; 53   2645.7098
#&gt; 54   2486.0157
#&gt; 55   2325.0249
#&gt; 56   2175.3008
#&gt; 57   2048.3430
#&gt; 58   1946.4600
#&gt; 59   1866.9133
#&gt; 60   1796.7846
#&gt; 61   1722.9549
#&gt; 62   1632.1045
#&gt; 63   1521.2719
#&gt; 64   1392.4311
#&gt; 65   1255.2308
#&gt; 66   1121.3870
#&gt; 67   1004.6830
#&gt; 68    909.3898
#&gt; 69    835.9914
#&gt; 70    780.7211
#&gt; 71    736.2617
#&gt; 72    691.7455
#&gt; 73    643.7115
#&gt; 74    590.5132
#&gt; 75    532.0976
#&gt; 76    471.0073
#&gt; 77    412.3805
#&gt; 78    357.4547
#&gt; 79    307.0949
#&gt; 80    261.9439
#&gt; 81    221.8201
#&gt; 82    185.7175
#&gt; 83    153.5851
#&gt; 84    125.2864
#&gt; 85    100.8658
#&gt; 86     80.1571
#&gt; 87     62.7835
#&gt; 88     48.3745
#&gt; 89     36.5281
#&gt; 90     26.8663
#&gt; 91     19.0789
#&gt; 92     12.9361
#&gt; 93      8.2390
#&gt; 94      4.8817
#&gt; 95      2.7712
#&gt; 96      1.8763
#&gt; 97      2.1907
#&gt; 98      3.7144
#&gt; 99      6.4474
#&gt; 100     0.0000</div><div class='input'><span class='fu'>graduate</span>(<span class='no'>Value</span>, <span class='no'>Age</span>, <span class='kw'>method</span> <span class='kw'>=</span> <span class='st'>"beers(mod)"</span>, <span class='kw'>keep0</span><span class='kw'>=</span><span class='fl'>TRUE</span>)</div><div class='output co'>#&gt;           [,1]
#&gt; 0   10000.0000
#&gt; 1   11849.1277
#&gt; 2   11264.1552
#&gt; 3   10750.0138
#&gt; 4   10306.7033
#&gt; 5    9494.3017
#&gt; 6    9201.8161
#&gt; 7    8969.8051
#&gt; 8    8790.9099
#&gt; 9    8653.8682
#&gt; 10   8546.7035
#&gt; 11   8455.2302
#&gt; 12   8364.7480
#&gt; 13   8264.2114
#&gt; 14   8146.8109
#&gt; 15   8009.2966
#&gt; 16   7855.8211
#&gt; 17   7697.9395
#&gt; 18   7537.0673
#&gt; 19   7374.4965
#&gt; 20   7210.6243
#&gt; 21   7045.7255
#&gt; 22   6879.9525
#&gt; 23   6714.4613
#&gt; 24   6550.4634
#&gt; 25   6389.8558
#&gt; 26   6233.6499
#&gt; 27   6081.9715
#&gt; 28   5935.0481
#&gt; 29   5792.5597
#&gt; 30   5653.0084
#&gt; 31   5514.9350
#&gt; 32   5376.9190
#&gt; 33   5238.6834
#&gt; 34   5100.5202
#&gt; 35   4965.5251
#&gt; 36   4835.6769
#&gt; 37   4711.8375
#&gt; 38   4593.0579
#&gt; 39   4477.1996
#&gt; 40   4357.2582
#&gt; 41   4228.5099
#&gt; 42   4088.5115
#&gt; 43   3937.6585
#&gt; 44   3778.8029
#&gt; 45   3621.7683
#&gt; 46   3474.4487
#&gt; 47   3342.8085
#&gt; 48   3227.5557
#&gt; 49   3125.8698
#&gt; 50   3025.7427
#&gt; 51   2916.8358
#&gt; 52   2790.4800
#&gt; 53   2645.7098
#&gt; 54   2486.0157
#&gt; 55   2325.0249
#&gt; 56   2175.3008
#&gt; 57   2048.3430
#&gt; 58   1946.4600
#&gt; 59   1866.9133
#&gt; 60   1796.7846
#&gt; 61   1722.9549
#&gt; 62   1632.1045
#&gt; 63   1521.2719
#&gt; 64   1392.4311
#&gt; 65   1255.2308
#&gt; 66   1121.3870
#&gt; 67   1004.6830
#&gt; 68    909.3898
#&gt; 69    835.9914
#&gt; 70    780.7211
#&gt; 71    736.2617
#&gt; 72    691.7455
#&gt; 73    643.7115
#&gt; 74    590.5132
#&gt; 75    532.0976
#&gt; 76    471.0073
#&gt; 77    412.3805
#&gt; 78    357.4547
#&gt; 79    307.0949
#&gt; 80    261.9439
#&gt; 81    221.8201
#&gt; 82    185.7175
#&gt; 83    153.5851
#&gt; 84    125.2864
#&gt; 85    100.8658
#&gt; 86     80.1571
#&gt; 87     62.7835
#&gt; 88     48.3745
#&gt; 89     36.5281
#&gt; 90     26.8663
#&gt; 91     19.0789
#&gt; 92     12.9361
#&gt; 93      8.2390
#&gt; 94      4.8817
#&gt; 95      2.7712
#&gt; 96      1.8763
#&gt; 97      2.1907
#&gt; 98      3.7144
#&gt; 99      6.4474
#&gt; 100     0.0000</div><div class='input'><span class='fu'>graduate</span>(<span class='no'>Value</span>, <span class='no'>Age</span>, <span class='kw'>method</span> <span class='kw'>=</span> <span class='st'>"beers(mod)"</span>, <span class='kw'>keep0</span><span class='kw'>=</span><span class='fl'>TRUE</span>, <span class='kw'>johnson</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)</div><div class='output co'>#&gt;           [,1]
#&gt; 0   10000.0000
#&gt; 1   11325.4173
#&gt; 2   11441.7180
#&gt; 3   11025.7228
#&gt; 4   10377.1420
#&gt; 5    9717.5927
#&gt; 6    9184.3461
#&gt; 7    8850.5817
#&gt; 8    8704.3123
#&gt; 9    8653.8682
#&gt; 10   8546.7035
#&gt; 11   8455.2302
#&gt; 12   8364.7480
#&gt; 13   8264.2114
#&gt; 14   8146.8109
#&gt; 15   8009.2966
#&gt; 16   7855.8211
#&gt; 17   7697.9395
#&gt; 18   7537.0673
#&gt; 19   7374.4965
#&gt; 20   7210.6243
#&gt; 21   7045.7255
#&gt; 22   6879.9525
#&gt; 23   6714.4613
#&gt; 24   6550.4634
#&gt; 25   6389.8558
#&gt; 26   6233.6499
#&gt; 27   6081.9715
#&gt; 28   5935.0481
#&gt; 29   5792.5597
#&gt; 30   5653.0084
#&gt; 31   5514.9350
#&gt; 32   5376.9190
#&gt; 33   5238.6834
#&gt; 34   5100.5202
#&gt; 35   4965.5251
#&gt; 36   4835.6769
#&gt; 37   4711.8375
#&gt; 38   4593.0579
#&gt; 39   4477.1996
#&gt; 40   4357.2582
#&gt; 41   4228.5099
#&gt; 42   4088.5115
#&gt; 43   3937.6585
#&gt; 44   3778.8029
#&gt; 45   3621.7683
#&gt; 46   3474.4487
#&gt; 47   3342.8085
#&gt; 48   3227.5557
#&gt; 49   3125.8698
#&gt; 50   3025.7427
#&gt; 51   2916.8358
#&gt; 52   2790.4800
#&gt; 53   2645.7098
#&gt; 54   2486.0157
#&gt; 55   2325.0249
#&gt; 56   2175.3008
#&gt; 57   2048.3430
#&gt; 58   1946.4600
#&gt; 59   1866.9133
#&gt; 60   1796.7846
#&gt; 61   1722.9549
#&gt; 62   1632.1045
#&gt; 63   1521.2719
#&gt; 64   1392.4311
#&gt; 65   1255.2308
#&gt; 66   1121.3870
#&gt; 67   1004.6830
#&gt; 68    909.3898
#&gt; 69    835.9914
#&gt; 70    780.7211
#&gt; 71    736.2617
#&gt; 72    691.7455
#&gt; 73    643.7115
#&gt; 74    590.5132
#&gt; 75    532.0976
#&gt; 76    471.0073
#&gt; 77    412.3805
#&gt; 78    357.4547
#&gt; 79    307.0949
#&gt; 80    261.9439
#&gt; 81    221.8201
#&gt; 82    185.7175
#&gt; 83    153.5851
#&gt; 84    125.2864
#&gt; 85    100.8658
#&gt; 86     80.1571
#&gt; 87     62.7835
#&gt; 88     48.3745
#&gt; 89     36.5281
#&gt; 90     26.8663
#&gt; 91     19.0789
#&gt; 92     12.9361
#&gt; 93      8.2390
#&gt; 94      4.8817
#&gt; 95      2.7712
#&gt; 96      1.8763
#&gt; 97      2.1907
#&gt; 98      3.7144
#&gt; 99      6.4474
#&gt; 100     0.0000</div><div class='input'>
<span class='fu'>graduate</span>(<span class='no'>Value</span>, <span class='no'>Age</span>, <span class='kw'>method</span> <span class='kw'>=</span> <span class='st'>"mono"</span>)</div><div class='output co'>#&gt;         0         1         2         3         4         5         6         7 
#&gt; 10000.000 10945.000 11401.250 11270.625 10553.125  9665.128  9122.756  8767.692 
#&gt;         8         9        10        11        12        13        14        15 
#&gt;  8599.936  8619.488  8655.760  8567.160  8453.480  8314.720  8150.880  7993.120 
#&gt;        16        17        18        19        20        21        22        23 
#&gt;  7852.080  7701.920  7542.640  7374.240  7205.232  7042.304  6880.288  6719.184 
#&gt;        24        25        26        27        28        29        30        31 
#&gt;  6558.992  6389.728  6219.856  6063.592  5920.936  5791.888  5662.824  5524.688 
#&gt;        32        33        34        35        36        37        38        39 
#&gt;  5386.576  5248.488  5110.424  4963.192  4815.944  4682.448  4562.704  4456.712 
#&gt;        40        41        42        43        44        45        46        47 
#&gt;  4370.464  4275.048  4150.016  3995.368  3811.104  3596.888  3402.416  3252.872 
#&gt;        48        49        50        51        52        53        54        55 
#&gt;  3148.256  3088.568  3062.144  3005.768  2899.496  2743.328  2537.264  2285.088 
#&gt;        56        57        58        59        60        61        62        63 
#&gt;  2066.176  1916.432  1835.856  1824.448  1849.056  1827.552  1752.024  1622.472 
#&gt;        64        65        66        67        68        69        70        71 
#&gt;  1438.896  1215.528  1028.176   900.512   832.536   824.248   821.544   779.048 
#&gt;        72        73        74        75        76        77        78        79 
#&gt;   728.176   668.928   601.304   526.576   457.432   398.944   351.112   313.936 
#&gt;        80        81        82        83        84        85        86        87 
#&gt;   268.888   216.736   176.392   147.856   131.128   108.496    77.992    56.344 
#&gt;        88        89        90        91        92        93        94        95 
#&gt;    43.552    39.616    32.752    19.984    11.608     7.624     8.032     7.432 
#&gt;        96        97        98        99       100 
#&gt;     3.904     1.888     1.384     2.392     0.000 </div><div class='input'><span class='fu'>graduate</span>(<span class='no'>Value</span>, <span class='no'>Age</span>, <span class='kw'>method</span> <span class='kw'>=</span> <span class='st'>"mono"</span>, <span class='kw'>keep0</span><span class='kw'>=</span><span class='fl'>TRUE</span>)</div><div class='output co'>#&gt;         0         1         2         3         4         5         6         7 
#&gt; 10000.000 10945.000 11401.250 11270.625 10553.125  9665.128  9122.756  8767.692 
#&gt;         8         9        10        11        12        13        14        15 
#&gt;  8599.936  8619.488  8655.760  8567.160  8453.480  8314.720  8150.880  7993.120 
#&gt;        16        17        18        19        20        21        22        23 
#&gt;  7852.080  7701.920  7542.640  7374.240  7205.232  7042.304  6880.288  6719.184 
#&gt;        24        25        26        27        28        29        30        31 
#&gt;  6558.992  6389.728  6219.856  6063.592  5920.936  5791.888  5662.824  5524.688 
#&gt;        32        33        34        35        36        37        38        39 
#&gt;  5386.576  5248.488  5110.424  4963.192  4815.944  4682.448  4562.704  4456.712 
#&gt;        40        41        42        43        44        45        46        47 
#&gt;  4370.464  4275.048  4150.016  3995.368  3811.104  3596.888  3402.416  3252.872 
#&gt;        48        49        50        51        52        53        54        55 
#&gt;  3148.256  3088.568  3062.144  3005.768  2899.496  2743.328  2537.264  2285.088 
#&gt;        56        57        58        59        60        61        62        63 
#&gt;  2066.176  1916.432  1835.856  1824.448  1849.056  1827.552  1752.024  1622.472 
#&gt;        64        65        66        67        68        69        70        71 
#&gt;  1438.896  1215.528  1028.176   900.512   832.536   824.248   821.544   779.048 
#&gt;        72        73        74        75        76        77        78        79 
#&gt;   728.176   668.928   601.304   526.576   457.432   398.944   351.112   313.936 
#&gt;        80        81        82        83        84        85        86        87 
#&gt;   268.888   216.736   176.392   147.856   131.128   108.496    77.992    56.344 
#&gt;        88        89        90        91        92        93        94        95 
#&gt;    43.552    39.616    32.752    19.984    11.608     7.624     8.032     7.432 
#&gt;        96        97        98        99       100 
#&gt;     3.904     1.888     1.384     2.392     0.000 </div><div class='input'>
<span class='fu'>graduate</span>(<span class='no'>Value</span>, <span class='no'>Age</span>, <span class='kw'>method</span> <span class='kw'>=</span> <span class='st'>"uniform"</span>)</div><div class='output co'>#&gt;       0       1       2       3       4       5       6       7       8       9 
#&gt; 10000.0 11042.5 11042.5 11042.5 11042.5  8955.0  8955.0  8955.0  8955.0  8955.0 
#&gt;      10      11      12      13      14      15      16      17      18      19 
#&gt;  8428.4  8428.4  8428.4  8428.4  8428.4  7692.8  7692.8  7692.8  7692.8  7692.8 
#&gt;      20      21      22      23      24      25      26      27      28      29 
#&gt;  6881.2  6881.2  6881.2  6881.2  6881.2  6077.2  6077.2  6077.2  6077.2  6077.2 
#&gt;      30      31      32      33      34      35      36      37      38      39 
#&gt;  5386.6  5386.6  5386.6  5386.6  5386.6  4696.2  4696.2  4696.2  4696.2  4696.2 
#&gt;      40      41      42      43      44      45      46      47      48      49 
#&gt;  4120.4  4120.4  4120.4  4120.4  4120.4  3297.8  3297.8  3297.8  3297.8  3297.8 
#&gt;      50      51      52      53      54      55      56      57      58      59 
#&gt;  2849.6  2849.6  2849.6  2849.6  2849.6  1985.6  1985.6  1985.6  1985.6  1985.6 
#&gt;      60      61      62      63      64      65      66      67      68      69 
#&gt;  1698.0  1698.0  1698.0  1698.0  1698.0   960.2   960.2   960.2   960.2   960.2 
#&gt;      70      71      72      73      74      75      76      77      78      79 
#&gt;   719.8   719.8   719.8   719.8   719.8   409.6   409.6   409.6   409.6   409.6 
#&gt;      80      81      82      83      84      85      86      87      88      89 
#&gt;   188.2   188.2   188.2   188.2   188.2    65.2    65.2    65.2    65.2    65.2 
#&gt;      90      91      92      93      94      95      96      97      98      99 
#&gt;    16.0    16.0    16.0    16.0    16.0     3.4     3.4     3.4     3.4     3.4 
#&gt;     100 
#&gt;     0.0 </div><div class='input'>
<span class='fu'>graduate</span>(<span class='no'>Value</span>, <span class='no'>Age</span>, <span class='kw'>method</span> <span class='kw'>=</span> <span class='st'>"pclm"</span>)</div><div class='output co'>#&gt;            0            1            2            3            4            5 
#&gt; 10022.206166 10787.283969 11254.932558 11275.885637 10807.951423 10074.821802 
#&gt;            6            7            8            9           10           11 
#&gt;  9328.988744  8736.949692  8394.290484  8273.419215  8318.185349  8432.064234 
#&gt;           12           13           14           15           16           17 
#&gt;  8510.164397  8497.044472  8366.765819  8151.826916  7903.088275  7662.042021 
#&gt;           18           19           20           21           22           23 
#&gt;  7459.547647  7296.414764  7161.468632  7035.158814  6896.995478  6740.484441 
#&gt;           24           25           26           27           28           29 
#&gt;  6566.732478  6387.045674  6215.809170  6060.717420  5925.005956  5801.821192 
#&gt;           30           31           32           33           34           35 
#&gt;  5679.678101  5548.089015  5398.665318  5234.736857  5066.280112  4908.164621 
#&gt;           36           37           38           39           40           41 
#&gt;  4776.277248  4674.567054  4598.978778  4531.954680  4447.598715  4325.845342 
#&gt;           42           43           44           45           46           47 
#&gt;  4153.831514  3942.404243  3717.818156  3511.254515  3353.612943  3254.021670 
#&gt;           48           49           50           51           52           53 
#&gt;  3206.436723  3185.639206  3149.061720  3061.490648  2899.845840  2676.397236 
#&gt;           54           55           56           57           58           59 
#&gt;  2430.916307  2205.094665  2036.287307  1935.376747  1895.248589  1894.350582 
#&gt;           60           61           62           63           64           65 
#&gt;  1891.972238  1851.214007  1745.251330  1577.505630  1381.551282  1192.256352 
#&gt;           66           67           68           69           70           71 
#&gt;  1038.626281   929.281154   859.265602   818.951293   792.503364   766.385428 
#&gt;           72           73           74           75           76           77 
#&gt;   729.252757   676.036518   610.318839   538.450939   468.333489   404.619332 
#&gt;           78           79           80           81           82           83 
#&gt;   348.592064   299.924684   257.028970   218.668992   184.007104   152.690098 
#&gt;           84           85           86           87           88           89 
#&gt;   124.764601   100.309353    79.377465    61.866165    47.547799    36.084595 
#&gt;           90           91           92           93           94           95 
#&gt;    27.084347    20.136711    14.848708    10.871851     7.909705     5.722058 
#&gt;           96           97           98           99          100 
#&gt;     4.118689     2.951838     2.108558     1.502782     1.069736 </div><div class='input'><span class='fu'>graduate</span>(<span class='no'>Value</span>, <span class='no'>Age</span>, <span class='kw'>method</span> <span class='kw'>=</span> <span class='st'>"pclm"</span>, <span class='kw'>keep0</span><span class='kw'>=</span><span class='fl'>TRUE</span>)</div><div class='output co'>#&gt;            0            1            2            3            4            5 
#&gt; 10000.000000 10798.027337 11266.141671 11287.115617 10818.715375 10074.821802 
#&gt;            6            7            8            9           10           11 
#&gt;  9328.988744  8736.949692  8394.290484  8273.419215  8318.185349  8432.064234 
#&gt;           12           13           14           15           16           17 
#&gt;  8510.164397  8497.044472  8366.765819  8151.826916  7903.088275  7662.042021 
#&gt;           18           19           20           21           22           23 
#&gt;  7459.547647  7296.414764  7161.468632  7035.158814  6896.995478  6740.484441 
#&gt;           24           25           26           27           28           29 
#&gt;  6566.732478  6387.045674  6215.809170  6060.717420  5925.005956  5801.821192 
#&gt;           30           31           32           33           34           35 
#&gt;  5679.678101  5548.089015  5398.665318  5234.736857  5066.280112  4908.164621 
#&gt;           36           37           38           39           40           41 
#&gt;  4776.277248  4674.567054  4598.978778  4531.954680  4447.598715  4325.845342 
#&gt;           42           43           44           45           46           47 
#&gt;  4153.831514  3942.404243  3717.818156  3511.254515  3353.612943  3254.021670 
#&gt;           48           49           50           51           52           53 
#&gt;  3206.436723  3185.639206  3149.061720  3061.490648  2899.845840  2676.397236 
#&gt;           54           55           56           57           58           59 
#&gt;  2430.916307  2205.094665  2036.287307  1935.376747  1895.248589  1894.350582 
#&gt;           60           61           62           63           64           65 
#&gt;  1891.972238  1851.214007  1745.251330  1577.505630  1381.551282  1192.256352 
#&gt;           66           67           68           69           70           71 
#&gt;  1038.626281   929.281154   859.265602   818.951293   792.503364   766.385428 
#&gt;           72           73           74           75           76           77 
#&gt;   729.252757   676.036518   610.318839   538.450939   468.333489   404.619332 
#&gt;           78           79           80           81           82           83 
#&gt;   348.592064   299.924684   257.028970   218.668992   184.007104   152.690098 
#&gt;           84           85           86           87           88           89 
#&gt;   124.764601   100.309353    79.377465    61.866165    47.547799    36.084595 
#&gt;           90           91           92           93           94           95 
#&gt;    27.084347    20.136711    14.848708    10.871851     7.909705     5.722058 
#&gt;           96           97           98           99          100 
#&gt;     4.118689     2.951838     2.108558     1.502782     1.069736 </div><div class='input'><span class='co'># pclm can also graduate rates if both</span>
<span class='co'># numerators and denominators are on hand:</span>
<span class='no'>Exposures</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>100958</span>,<span class='fl'>466275</span>,<span class='fl'>624134</span>,<span class='fl'>559559</span>,<span class='fl'>446736</span>,<span class='fl'>370653</span>,<span class='fl'>301862</span>,<span class='fl'>249409</span>,
               <span class='fl'>247473</span>,<span class='fl'>223014</span>,<span class='fl'>172260</span>,<span class='fl'>149338</span>,<span class='fl'>127242</span>,<span class='fl'>105715</span>,<span class='fl'>79614</span>,<span class='fl'>53660</span>,
               <span class='fl'>31021</span>,<span class='fl'>16805</span>,<span class='fl'>8000</span>,<span class='fl'>4000</span>,<span class='fl'>2000</span>,<span class='fl'>1000</span>)

<span class='no'>Deaths</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>8674</span>,<span class='fl'>1592</span>,<span class='fl'>618</span>,<span class='fl'>411</span>,<span class='fl'>755</span>,<span class='fl'>1098</span>,<span class='fl'>1100</span>,<span class='fl'>1357</span>,
            <span class='fl'>1335</span>,<span class='fl'>3257</span>,<span class='fl'>2200</span>,<span class='fl'>4023</span>,<span class='fl'>2167</span>,<span class='fl'>4578</span>,<span class='fl'>2956</span>,<span class='fl'>4212</span>,
            <span class='fl'>2887</span>,<span class='fl'>2351</span>,<span class='fl'>1500</span>,<span class='fl'>900</span>,<span class='fl'>500</span>,<span class='fl'>300</span>)
<span class='no'>Age</span>    <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>0</span>, <span class='fl'>1</span>, <span class='fu'><a href='https://rdrr.io/r/base/seq.html'>seq</a></span>(<span class='fl'>5</span>, <span class='fl'>100</span>, <span class='kw'>by</span> <span class='kw'>=</span> <span class='fl'>5</span>))
<span class='no'>AgeInt</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/diff.html'>diff</a></span>(<span class='no'>Age</span>), <span class='fl'>NA</span>)

<span class='co'># exclude infants for better fit.</span>
<span class='no'>mx</span>    <span class='kw'>&lt;-</span> <span class='fu'>graduate</span>(
           <span class='kw'>Value</span> <span class='kw'>=</span> <span class='no'>Deaths</span>[-<span class='fl'>1</span>], <span class='kw'>Age</span> <span class='kw'>=</span> <span class='no'>Age</span>[-<span class='fl'>1</span>],
           <span class='kw'>AgeInt</span> <span class='kw'>=</span> <span class='no'>AgeInt</span>[-<span class='fl'>1</span>], <span class='kw'>OAG</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
           <span class='kw'>OAnew</span> <span class='kw'>=</span> <span class='fl'>110</span>, <span class='kw'>offset</span> <span class='kw'>=</span> <span class='no'>Exposures</span>[-<span class='fl'>1</span>],
           <span class='kw'>method</span> <span class='kw'>=</span> <span class='st'>"pclm"</span>)
<span class='no'>mx_sm</span> <span class='kw'>&lt;-</span> <span class='fu'>graduate</span>(
           <span class='kw'>Value</span> <span class='kw'>=</span> <span class='no'>Deaths</span>[-<span class='fl'>1</span>], <span class='kw'>Age</span> <span class='kw'>=</span> <span class='no'>Age</span>[-<span class='fl'>1</span>],
           <span class='kw'>AgeInt</span> <span class='kw'>=</span> <span class='no'>AgeInt</span>[-<span class='fl'>1</span>], <span class='kw'>OAG</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
           <span class='kw'>OAnew</span> <span class='kw'>=</span> <span class='fl'>110</span>, <span class='kw'>offset</span> <span class='kw'>=</span> <span class='no'>Exposures</span>[-<span class='fl'>1</span>],
           <span class='kw'>method</span> <span class='kw'>=</span> <span class='st'>"pclm"</span>, <span class='kw'>control</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(<span class='kw'>lambda</span> <span class='kw'>=</span> <span class='fl'>1e7</span>))

<span class='kw'>if</span> (<span class='fl'>FALSE</span>) {
<span class='fu'><a href='https://rdrr.io/r/graphics/plot.html'>plot</a></span>(<span class='no'>Age</span>,
     <span class='no'>Deaths</span> / <span class='no'>Exposures</span>,
     <span class='kw'>type</span> <span class='kw'>=</span> <span class='st'>'s'</span>, <span class='kw'>log</span> <span class='kw'>=</span> <span class='st'>'y'</span>,
     <span class='kw'>main</span> <span class='kw'>=</span> <span class='st'>"Underlying data have differential heaping on 0s and 5s"</span>)
<span class='fu'><a href='https://rdrr.io/r/graphics/lines.html'>lines</a></span>(<span class='fl'>1</span>:<span class='fl'>110</span>, <span class='no'>mx</span>)
<span class='fu'><a href='https://rdrr.io/r/graphics/lines.html'>lines</a></span>(<span class='fl'>1</span>:<span class='fl'>110</span>, <span class='no'>mx_sm</span>, <span class='kw'>col</span> <span class='kw'>=</span> <span class='st'>"blue"</span>)
<span class='fu'><a href='https://rdrr.io/r/graphics/legend.html'>legend</a></span>(<span class='st'>"bottomright"</span>,
       <span class='kw'>col</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"black"</span>,<span class='st'>"blue"</span>),
       <span class='kw'>lty</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>1</span>, <span class='fl'>1</span>),
       <span class='kw'>legend</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"lambda optimized (almost constrained)"</span>,
                  <span class='st'>"higher lambda = smoother"</span>)
       )
  }</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      <li><a href="#details">Details</a></li>
      <li><a href="#references">References</a></li>
      <li><a href="#see-also">See also</a></li>
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Tim Riffe, Sean Fennell, Jose Manuel Aburto.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


